<%- include("partials/header"); -%>
<body class="mt-[90px] bg-gray-50 font-roboto">

<%- include("partials/navbar"); -%>

<%- include("partials/headerForUserManagement"); -%>

<div class="grid-cols-12 grid p-14 gap-3">

   <!-- User management sidebar -->
   <%- include("partials/sidebarForUserManagement"); -%>

    <div class="col-span-8 ">
        <div class="font-light items-center text-lg pb-[40px] flex justify-center ">
            <p>You can manage your account and subscriptions here</p>
        </div>
        <div class="grid grid-cols-12 gap-7">
            <div class="col-span-5 bg-white">
                <div class="p-4 grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div class="flex md:col-span-1 text-sm justify-start font-medium">My details</div>
                    <div class="flex md:col-span-1 text-sm justify-end">
                        <a href="/accountsettings/mydetailsedit/<%= localsUser._id %>" class="text-black underline">edit</a>
                    </div>
                    <div class="flex flex-col gap-1">
                        <div class="flex-col flex gap-1 text-nowrap">
                            <p class="text-xs font-light"><%= localsUser.username %></p>
                        </div>
                        <div class="flex-col flex gap-1 text-nowrap">
                            <p class="text-xs font-light"><%= localsUser.email %></p>
                        </div>
                        <% if (localsUser.phone) { %>
                        <div class="flex-col flex gap-1 text-nowrap">
                            <p class="text-xs font-light">Phone: <%= localsUser.phone %></p>
                        </div>
                        <% } %>
                        <% if (localsUser.dob) { %>
                        <div class="flex-col flex gap-1 text-nowrap">
                            <p class="text-xs font-light">DOB: <%= new Date(localsUser.dob).toLocaleDateString() %></p>
                        </div>
                        <% } %>
                    </div>
                </div>
            </div>
            <div class="col-span-7 bg-white p-4">
                <% if (address.addresses && address.addresses.length > 0) { %>
                    <div class="grid grid-cols-2">
                        <div class="flex col-span-1 text-sm justify-start">Address</div>
                        <div class="flex col-span-1 text-sm justify-end">
                            <a href="/accountsettings/address" class="text-black underline">view</a>
                        </div>
                        <% let firstAddress = address.addresses[0]; %>
                    </div>
                    <div class="text-xs mt-3">
                        <div><%= firstAddress.name %></div>
                        <div><%= firstAddress.address %></div>
                        <div><%= firstAddress.city %></div>
                        <div><%= firstAddress.state %></div>
                        <div><%= firstAddress.pincode %></div>
                        <div><%= firstAddress.phone %></div>
                        <div><%= firstAddress.email %></div>
                    </div>
                <% } else { %>
                    <div class="flex justify-center text-sm">Add your first address by clicking 
                        <a href="/accountsettings/address/addaddress" class="underline pl-1">here</a>
                    </div>
                <% } %>
            </div>
        </div>
    </div>
</div>

<script>

</script>

<%- include('partials/footer'); -%>
